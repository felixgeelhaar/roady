id: imported-spec
title: 'DDD Refactor Phase 2: Hardening & Cleanup'
description: Harden the refactor by covering configuration paths, updating remaining documentation, and verifying external compatibility.
features:
    - id: audit-docs-&-examples
      title: Audit Docs & Examples
      description: |-
        Update any remaining references to `policy.yaml` for provider/model settings.
        - Find and fix docs or examples that still describe provider/model in `policy.yaml`.
        - Ensure `.roady/ai.yaml` is documented as the provider/model source.
        - Keep guidance for env var overrides intact.
      requirements: []
    - id: ai-config-&-wiring-tests
      title: AI Config & Wiring Tests
      description: |-
        Add coverage for AI config and wiring fallbacks.
        - LoadAIConfig handles missing or invalid files.
        - LoadAIProvider uses defaults when `ai.yaml` is missing.
        - CLI AI configure writes `ai.yaml` alongside `policy.yaml`.
      requirements: []
    - id: mcp-shim-&-compatibility
      title: MCP Shim & Compatibility
      description: |-
        Validate and document the `pkg/mcp` shim.
        - Confirm downstream imports still work with the shim.
        - Decide whether to keep or deprecate the shim.
        - Add a short note in docs if the shim is temporary.
      requirements: []
constraints: []
version: 0.1.0
