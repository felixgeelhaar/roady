{
  "id": "imported-spec",
  "title": "DDD Refactor Plan",
  "description": "Refactor Roady's tool wiring and configuration to align with DDD boundaries while preserving behavior.",
  "features": [
    {
      "id": "move-mcp-composition-root",
      "title": "Move MCP Composition Root",
      "description": "Consolidate MCP server wiring at the infrastructure edge.\n- Move MCP server construction out of pkg/mcp into internal/infrastructure/mcp.\n- Keep pkg/mcp minimal (interfaces/types only) or remove if unused.\n- Ensure command wiring uses the new infrastructure entry point.",
      "requirements": []
    },
    {
      "id": "decouple-domain-policy-from-provider-selection",
      "title": "Decouple Domain Policy from Provider Selection",
      "description": "Keep domain policy focused on business rules, not adapter choices.\n- Remove AI provider/model fields from domain policy config.\n- Introduce infra/app config for provider/model defaults.\n- Update provider selection to read infra config only.",
      "requirements": []
    },
    {
      "id": "centralize-adapter-construction",
      "title": "Centralize Adapter Construction",
      "description": "Create a single wiring location for repo, audit, AI provider, and services.\n- Add internal/infrastructure/wiring (or cmd/roady) constructor.\n- Make CLI and MCP use the shared wiring helper.\n- Keep application services unchanged.",
      "requirements": []
    },
    {
      "id": "update-imports-and-tests",
      "title": "Update Imports and Tests",
      "description": "Align references and maintain test coverage.\n- Fix imports that reference pkg/mcp after relocation.\n- Add temporary shim if external consumers still import pkg/mcp.\n- Update tests to use new wiring location.",
      "requirements": []
    }
  ],
  "constraints": [],
  "version": "0.1.0"
}